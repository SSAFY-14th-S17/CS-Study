# 트랜잭션의 4가지 성질: ACID

데이터베이스 시스템은 트랜잭션이 안전하게 수행되는 것을 보장하기 위해 4가지 핵심적인 성질을 정의하며 이를 **ACID 원칙**이라고 부른다.

## 1. Atomicity (원자성)

   트랜잭션의 가장 기본이 되는 성질  
   트랜잭션에 포함된 모든 작업은 **전부 실행되거나(COMMIT) 또는 전부 실행되지 않아야(ROLLBACK)** 한다.  
   이는 위에서 설명한 `COMMIT`과 `ROLLBACK` 메커니즘을 통해 직접적으로 보장된다.

## 2. Consistency (일관성)

   트랜잭션은 데이터베이스를 하나의 **유효한(Valid) 상태에서 또 다른 유효한 상태로** 옮겨가야 한다.  
   '유효한 상태'란 데이터베이스에 정의된 모든 규칙과 제약 조건(예: Primary Key 중복 불가, Foreign Key 참조 무결성, NOT NULL 제약 등)을 만족하는 상태를 의미한다.  
   계좌 이체 예시에서 트랜잭션이 성공적으로 `Commit`된 후에도 '전체 계좌의 총액'은 트랜잭션 이전과 동일해야 한다는 '일관성'이 유지되야 한다. 만약 이 일관성이 깨진다면 해당 트랜잭션은 `ROLLBACK` 되어야 한다.  

## 3. Isolation (고립성)

   트랜잭션이 **동시에 실행될 때(Concurrency)** 서로의 작업에 영향을 주어서는 안 된다는 원칙이다.  
   각 트랜잭션은 마치 데이터베이스에 자신만 단으로 접근하는 것처럼 동작해야 한다.  
   만약 고립성이 보장되지 않는다면 한 트랜잭션이 미처 `COMMIT` 하지 않은 데이터를 다른 트랜잭션이 읽어가는 등(Dirty Read)의 심각한 문제가 발생할 수 있다.  
   이 고립성을 보장하기 위한 다양한 '격리 수준(Isolation Levels)'과 '잠금(Locking)' 기법 등 등 댜앙한 방법이 존재한다.  

## 4. Durability (지속성)

   일단 트랜잭션이 성공적으로 `COMMIT` 되었다면, 그 결과는 **영구적으로 보존**해야 한다.  
   `COMMIT`이 완료된 후 시스템에 전원 공급이 중단되거나 치명적인 장애가 발생하더라도 해당 데이터는 유실되지 않아야 함을 의미한다.  
   데이터베이스 시스템은 이를 보장하기 위해 변경 사항을 디스크와 같은 비휘발성 저장소에 기록하고 로그(Log) 시스템을 활용한다.  