# 데이터베이스 정규화와 중복 제거

---

## 1. 중복 제거의 목표

- **저장 공간 효율성 향상:** 동일한 정보를 여러 곳에 저장할 필요가 없어지므로 디스크 공간을 절약할 수 있다.
- **이상(Anomaly) 제거:** 데이터 중복으로 인해 발생하는 삽입, 갱신, 삭제 이상을 방지하여 데이터의 **일관성**과 **무결성**을 유지할 수 있다.

---

## 2. 정규화 단계별 중복 제거 원리

| 정규형                        | 제거되는 중복의 원인                                        | 중복 제거의 원리                                                                                                                                                                                              |
| :---------------------------- | :---------------------------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **제 1정규형 (1NF)**          | 반복 그룹 (하나의 필드에 여러 값이 있는 형태)               | 모든 속성 값은 원자값(Atomic Value)을 가져야 한다. 즉, 하나의 셀에는 하나의 데이터만 존재해야 한다.                                                                                                           |
| **제 2정규형 (2NF)**          | 부분 함수 종속 (기본 키의 일부에 종속되는 속성)             | 기본 키 전체가 아닌 **일부**에만 종속되는 속성(컬럼)들을 분리하여 별도의 테이블을 만든다.                                                                                                                     |
| **제 3정규형 (3NF)**          | 이행적 함수 종속 (기본 키가 아닌 다른 속성에 종속되는 속성) | 기본 키를 통하지 않고 일반 속성 간에 종속 관계가 있는 경우, 해당 종속 관계를 분리하여 테이블을 만든다.                                                                                                        |
| **제 4정규형 (4NF)**          | 다치 종속 (Multi-valued Dependency, MVD)                    | 하나의 속성이 두 개 이상의 다른 속성 집합과 독립적으로 다치 종속 관계를 가질 때, 이들을 각각 별도의 테이블로 분리한다.                                                                                        |
| **제 5정규형 (5NF)**          | 조인 종속 (Join Dependency, JD)                             | 테이블을 두 개 이상의 작은 테이블로 분해했을 때, 이들을 다시 조인하면 원래 테이블로 복원될 수 있지만, 테이블을 합치는 과정에서 새로운 가짜 튜플이 생성되는 경우(무손실 조인 분해가 불가능한 경우)를 방지한다. |
| **BCNF (보이스-코드 정규형)** | 결정자가 후보 키가 아닌 경우                                | 테이블을 두 개 이상의 작은 테이블로 분해했을 때, 이들을 다시 조인하면 원래 테이블로 복원될 수 있지만, 테이블을 합치는 과정에서 새로운 가짜 튜플이 생성되는 경우(무손실 조인 분해가 불가능한 경우)를 방지한다. |

---

## 3. 이상(Anomaly)과 중복 제거의 관계

데이터에 중복이 존재할 때 발생하는 문제(이상)를 중복 제거를 통해 해결할 수 있다.

| 이상(Anomaly)                     | 중복과의 관계                                                                                       | 중복 제거 효과                                                                                      |
| :-------------------------------- | :-------------------------------------------------------------------------------------------------- | :-------------------------------------------------------------------------------------------------- |
| **삽입 이상 (Insertion Anomaly)** | 새로운 데이터를 삽입할 때 중복된 다른 정보도 함께 넣어야 하는 문제이다.                             | 불필요한 중복 정보를 분리하여 새로운 정보는 핵심 테이블에만 삽입이 가능하다.                        |
| **갱신 이상 (Update Anomaly)**    | 중복된 데이터를 갱신할 때, **모든 중복 위치**에서 갱신하지 않으면 데이터 불일치가 발생한다.         | 중복을 제거하고 데이터가 **단 한 곳**에만 존재하게 되어 갱신 오류를 원천적으로 방지한다.            |
| **삭제 이상 (Deletion Anomaly)**  | 특정 데이터를 삭제할 때, 그 데이터에 의존하는 **유일한 정보**까지 함께 삭제되어 정보 손실 발생한다. | 중복이 제거되면 데이터가 별도의 테이블에 독립적으로 존재하므로 중요한 정보를 삭제하지 않을 수 있다. |
