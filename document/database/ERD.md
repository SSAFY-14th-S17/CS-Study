# 개체-관계 다이어그램(ERD)

![erd_1](/document/images/erd_1.png)

ERD(Entity-Relationship Diagram)는 **데이터베이스의 '설계도'** 라고 이해할 수 있다.

데이터를 어떤 구조로 저장할지, 그리고 그 데이터들 간에 어떤 관계가 있는지를 한눈에 알아볼 수 있게 그림(다이어그램)으로 표현한 것으로 집을 짓기 전에 설계도가 꼭 필요한 것처럼, 체계적인 데이터베이스를 만들기 위해 ERD를 작성한다.

---

### 1. ERD의 3가지 핵심 구성 요소

ERD의 핵심 구성 요소는 **개체(Entity), 속성(Attribute), 관계(Relationship)** 라고 할 수 있다.

#### 1. 개체 (Entity)
![erd_2](/document/images/erd_2.png)
* **의미:** 데이터로 저장하고 관리해야 하는 대상(정보의 단위).
* **특징:** 다른 것과 명확하게 구분되는 '명사'라고 생각할 수 있다.
* **예시:** `회원`, `게시글`, `주문`, `상품`
* **표현:** 주로 **사각형(□)** 으로 표현한다.

#### 2. 속성 (Attribute)
![erd_3](/document/images/erd_3.png)
* **의미:** 개체가 가지고 있는 구체적인 '정보'나 '특성'.
* **특징:** 개체의 성질, 상태 등을 나타낸다.
* **예시:** `회원` 개체는 `아이디`, `비밀번호`, `이름`, `닉네임` 등의 속성을 가진다.
* **표현:** 개체를 나타내는 사각형 안에 텍스트로 표기하거나, 첸(Chen) 표기법에서는 타원(○)으로 표현한다.

> **🔑 핵심 속성: 키 (Key)**  
> 속성 중에서도 특별한 역할을 하는 '키'가 있다.
> * **기본 키 (Primary Key, PK):** 각 개체(테이블의 행)를 **유일하게 식별**할 수 있는 값이다. (예: `아이디`, `주민등록번호`, `학번`).
> * **중복될 수 없고, 비어 있을 수 없다(Not Null).**
> * **외래 키 (Foreign Key, FK):** 다른 개체(테이블)의 기본 키(PK)를 참조해 두 개체 간의 **관계를 연결**하는 데 사용되는 키이다.

#### 3. 관계 (Relationship)
![erd_4](/document/images/erd_4.png)
* **의미:** 개체와 개체 사이의 '연관성' 또는 '상호작용'.
* **특징:** "회원이 주문을 *한다*", "회원이 게시글을 *작성한다*"처럼 '동사'로 해석될 수 있다.
* **표현:** **마름모(◆)**(첸 표기법) 또는 **선(—)**(IE 표기법)으로 표현한다.

---

### 2. 관계의 핵심: 카디널리티 (Cardinality)

![erd_5](/document/images/erd_5.png)
*모든 표기방식 한눈에 보기*

'관계'를 정의할 때 가장 중요한 것이 바로 이 **카디널리티(Cardinality, 관계 차수)** 이다. 이는 **"두 개체가 몇 대 몇으로 관계를 맺는가?"** 를 나타낸다.

* **1:1 (일대일 관계):** 개체 A의 한 인스턴스가 개체 B의 **단 하나**의 인스턴스와 관계를 맺는다.
    * (예: `회원`과 `회원_상세정보`. 한 회원은 하나의 상세정보만 가짐)
* **1:N (일대다 관계):** 개체 A의 한 인스턴스가 개체 B의 **여러 개**의 인스턴스와 관계를 맺는다.
    * (예: `회원(1)`이 `게시글(N)`을 작성한다. 한 회원은 여러 게시글을 쓸 수 있음)
* **N:M (다대다 관계):** 개체 A의 여러 인스턴스가 개체 B의 여러 인스턴스와 관계를 맺는다.
    * (예: `학생(N)`이 `과목(M)`을 수강한다. 한 학생은 여러 과목을, 한 과목은 여러 학생이 수강함)

> **[중요] N:M 관계의 해소**  
> 실제 데이터베이스에서는 N:M 관계를 직접 구현하지 않는다.  
> 이 경우, `수강신청`과 같은 **'중간 테이블'(Junction Table 또는 매핑 테이블)** 을 새로 만들어, 두 개의 1:N 관계 (즉, `학생(1) → 수강신청(N)` / `과목(1) → 수강신청(N)`)로 풀어낸다.

---

### 3. ERD 설계 3단계 (모델링 과정)

ERD는 생각나는 대로 바로 그리는 것이 아니라, 추상적인 수준에서 구체적인 수준으로 3단계를 거쳐 완성도를 높인다.

#### 1. 개념적 모델링 (Conceptual Model)
* **특징:** 가장 추상적이고 높은 수준의 모델.
* **내용:** 시스템의 **핵심 개체(Entity)와 그들 간의 관계(Relationship)** 만을 파악한다. 속성(Attribute)은 거의 표현하지 않거나 주요 키 정도만 표기한다.
* **표기법:** 주로 **첸(Chen) 표기법 (마름모 사용)** 이 이 단계에서 아이디어를 도출하기 위해 사용된다.

#### 2. 논리적 모델링 (Logical Model)
* **특징:** 개념적 모델을 바탕으로, 데이터베이스에 맞게 상세화하는 단계.
* **내용:** **모든 개체와 속성을 정의**하고, **기본 키(PK), 외래 키(FK)** 를 명확하게 지정한다. 정규화(Normalization) 과정도 이 단계에서 수행된다.
* **표기법:** 특정 데이터베이스 시스템(MySQL, Oracle 등)에 종속되지 않는다. **IE(까마귀발) 표기법**이 주로 사용된다.

#### 3. 물리적 모델링 (Physical Model)
* **특징:** 논리적 모델을 실제 데이터베이스 시스템에 구현할 수 있도록 변환하는 최종 단계.
* **내용:** 실제 테이블명, 컬럼명, **데이터 타입**(예: `VARCHAR(20)`, `INT`), 인덱스, 제약조건 등을 모두 정의한다.
* **표기법:** IE(까마귀발) 표기법을 사용하여 최종 '설계도'를 완성한다.

---

### 요약

ERD는 데이터베이스 설계를 위한 **시각적 의사소통 도구**이다.
1.  **개념적**으로 핵심 데이터(개체)와 관계를 잡고, (주로 첸 표기법)
2.  **논리적**으로 모든 속성과 키를 정의하며, (주로 IE 표기법)
3.  **물리적**으로 실제 구현할 테이블 스펙(데이터 타입 등)을 완성한다.

이 과정에서 3가지 요소(**개체, 속성, 관계**)와 관계의 상세 내용(**카디널리티**)을 명확히 정의하는 것이 중요하다.

참고  
[https://m.blog.naver.com/xxsaintxx/220518940689](https://m.blog.naver.com/xxsaintxx/220518940689)  
[https://inpa.tistory.com/entry/DB-📚-데이터-모델링-1N-관계-📈-ERD-다이어그램](https://inpa.tistory.com/entry/DB-%F0%9F%93%9A-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%AA%A8%EB%8D%B8%EB%A7%81-1N-%EA%B4%80%EA%B3%84-%F0%9F%93%88-ERD-%EB%8B%A4%EC%9D%B4%EC%96%B4%EA%B7%B8%EB%9E%A8)